!function e(t,n,r){function a(u,i){if(!n[u]){if(!t[u]){var l="function"==typeof require&&require;if(!i&&l)return l(u,!0);if(o)return o(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return a(n?n:e)},c,c.exports,e,t,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)a(r[u]);return a}({1:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return a.exec(e).slice(1)};n.resolve=function(){for(var n="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var u=o>=0?arguments[o]:e.cwd();if("string"!=typeof u)throw new TypeError("Arguments to path.resolve must be strings");u&&(n=u+"/"+n,a="/"===u.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+n||"."},n.normalize=function(e){var a=n.isAbsolute(e),o="/"===u(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var a=r(e.split("/")),o=r(t.split("/")),u=Math.min(a.length,o.length),i=u,l=0;u>l;l++)if(a[l]!==o[l]){i=l;break}for(var s=[],l=i;l<a.length;l++)s.push("..");return s=s.concat(o.slice(i)),s.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var u="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t,n){function r(){c=!1,i.length?s=i.concat(s):f=-1,s.length&&a()}function a(){if(!c){var e=setTimeout(r);c=!0;for(var t=s.length;t;){for(i=s,s=[];++f<t;)i&&i[f].run();f=-1,t=s.length}i=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function u(){}var i,l=t.exports={},s=[],c=!1,f=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new o(e,t)),1!==s.length||c||setTimeout(a,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],3:[function(e,t,n){"use strict";var r=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=r},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("./ApiRequest"),i=(r(u),e("../Utils/Constants")),l=function(){function e(){a(this,e)}return o(e,null,[{key:"get",value:function(t){return"undefined"==typeof t&&(t=!1),new Promise(function(t,n){if(e._accessToken)return t(e._accessToken);var r=localStorage.getItem(i.Config.Storage.ACCESS_TOKEN);return null===r?(e.clear(),n(new Error({code:403,message:"Unauthorized"}))):void e.set(r,!0).then(t)})}},{key:"set",value:function(t,n){return e._accessToken=t,new Promise(function(e,r){n||localStorage.setItem(i.Config.Storage.ACCESS_TOKEN,t),e(t)})}},{key:"clear",value:function(){return e._accessToken=null,localStorage.removeItem(i.Config.Storage.ACCESS_TOKEN)}}]),e}();n["default"]=l},{"../Utils/Constants":13,"./ApiRequest":5}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("../Utils/Utils"),i=r(u),l=e("../Utils/Actions"),s=r(l),c=e("./ApiUtils"),f=r(c),d=e("./AccessToken"),p=r(d),h=e("superagent"),m=r(h),g=function(){function e(t,n){if(a(this,e),void 0===n?(n=t,t="get"):t=t.toLowerCase(),-1!==n.indexOf("?"))throw new Error("You must set query string data via the `query` function");this.isAnonymous=!1,this.handleErrors=!0,this.ignoreNetworkError=!1,this.url=f["default"].buildUrl(n),this._setupRequest(t)}return o(e,null,[{key:"updateNetworkIndicator",value:function(){var t=arguments.length<=0||void 0===arguments[0]?"-":arguments[0];"+"===t?e.activeRequests++:e.activeRequests--,e.activeRequests<=0&&(e.activeRequests=0)}},{key:"create",value:function(e,t){return new this(e,t)}},{key:"createAnon",value:function(e,t){var n=new this(e,t);return n.setAnonymous(!0),n}},{key:"get",value:function(e){return new this("get",e)}},{key:"post",value:function(e){return new this("post",e)}},{key:"put",value:function(e){return new this("put",e)}},{key:"delete",value:function(e){return new this("delete",e)}}]),o(e,[{key:"setAnonymous",value:function(e){return this.isAnonymous=e,this}},{key:"setHandleErrors",value:function(e){return this.handleErrors=e,this}},{key:"setIgnoreNetworkError",value:function(e){return this.ignoreNetworkError=e,this}},{key:"configure",value:function(e){return e(this.request),this}},{key:"send",value:function(e,t){var n=this;return this.isAnonymous?this._sendIt(e,t):void p["default"].get().then(function(r){n.query({token:r}),n._sendIt(e,t)})}},{key:"data",value:function(e){return this.requestBody=JSON.stringify(e),this}},{key:"query",value:function(e){return this.queryData=Object.assign(this.queryData,e),this}},{key:"header",value:function(e,t){return this.requestHeaders[e]=t,this}},{key:"headers",value:function(e){return this.requestHeaders=Object.assign(this.requestHeaders,e),this}},{key:"_setupRequest",value:function(e){this.requestMethod=e?e:"get",this.requestHeaders={Accept:"application/json","Content-Type":"application/json"},this.queryData={},this.requestBody={},this.request=null}},{key:"_sendIt",value:function(t,n){var r=this;e.updateNetworkIndicator("+"),this.request=m["default"][this.requestMethod](this.url),i["default"].isEmpty(this.queryData)||this.request.query(this.queryData),i["default"].isEmpty(this.requestHeaders)||this.request.set(this.requestHeaders),this.request.send(this.requestBody).end(function(a,o){e.updateNetworkIndicator(),o.ok?t(o.body):o.unauthorized?(p["default"].clear(),s["default"].noauth()):(r.handleErrors&&f["default"].handleError(o.body.error),n&&n(o.body.error))})}}]),e}();g.activeRequests=0,n["default"]=g},{"../Utils/Actions":12,"../Utils/Utils":16,"./AccessToken":4,"./ApiUtils":6,superagent:"superagent"}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("../Utils/Utils"),i=r(u),l=e("../Utils/Constants"),s="There was a problem with your request",c=function(){function e(){a(this,e)}return o(e,null,[{key:"handleError",value:function(e){console.warn(e),i["default"].showError(e.message||s)}},{key:"handleNetworkError",value:function(e){console.warn(e)}},{key:"buildUrl",value:function(e){return e=i["default"].trimChar(e,"/"),-1===e.indexOf(l.Config.api_root)&&(e=l.Config.api_root+e),e}}]),e}();n["default"]=c},{"../Utils/Constants":13,"../Utils/Utils":16}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=r(l),c=e("../Utils/Actions"),f=r(c),d=e("../Api/ApiRequest"),p=(r(d),function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={},n.onSubmit=n.onSubmit.bind(n),n}return u(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("form",{className:"navbar-form navbar-right",role:"form",onSubmit:this.onSubmit},s["default"].createElement("div",{className:"form-group",style:h.formField},s["default"].createElement("input",{ref:"username",type:"text",placeholder:"username",className:"form-control"})),s["default"].createElement("div",{className:"form-group",style:h.formField},s["default"].createElement("input",{ref:"password",type:"password",placeholder:"password",className:"form-control"})),s["default"].createElement("button",{type:"submit",className:"btn btn-default"},"Sign in"))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.refs.username.value,password:this.refs.password.value};f["default"].login(t)}}]),t}(s["default"].Component));p.propTypes={},p.defaultProps={},n["default"]=p;var h={formField:{margin:3}}},{"../Api/ApiRequest":5,"../Utils/Actions":12,react:"react"}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=r(l),c=e("dropzone"),f=r(c),d=e("../Utils/Constants"),p=e("../Utils/Utils"),h=r(p),m=e("../Api/ApiUtils"),g=r(m),v=e("../Api/AccessToken");r(v);f["default"].autoDiscover=!1;var y=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.dropzone=null,n.state={},n}return u(t,e),i(t,[{key:"cleanDropzone",value:function(){this.dropzone.removeAllFiles()}},{key:"componentDidMount",value:function(){var e=this,t={url:g["default"].buildUrl("/archives/upload-file"),dictDefaultMessage:"<h3>Drop Image Here</h3><p> or Click to Upload</p>",init:function(){this.on("success",function(t,n){e.props.onUploadSuccess(n.data.file_uri)}),this.on("addedfile",function(t){e.props.onUploadStart();var n=t.previewElement.querySelector("[data-dz-name]");n.innerHTML=d.Config.uploads_dir+t.name}),this.on("error",function(e,t){h["default"].showError(t)}),this.on("complete",function(t){e.props.onUploadEnd()})}};this.dropzone=new f["default"](this.refs.dropzone,t)}},{key:"render",value:function(){return s["default"].createElement("div",{ref:"dropzone",style:this.props.style,className:"dropzone"},this.props.children)}}]),t}(s["default"].Component);y.propTypes={style:s["default"].PropTypes.object,activeStyle:s["default"].PropTypes.object,multiple:s["default"].PropTypes.bool,onUploadStart:s["default"].PropTypes.func,onUploadEnd:s["default"].PropTypes.func,onUploadSuccess:s["default"].PropTypes.func},y.defaultProps={style:{},activeStyle:{},multiple:!0,onUploadStart:function(){},onUploadEnd:function(){},onUploadSuccess:function(){}},n["default"]=y},{"../Api/AccessToken":4,"../Api/ApiUtils":6,"../Utils/Constants":13,"../Utils/Utils":16,dropzone:"dropzone",react:"react"}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=r(l),c=e("../Utils/Actions"),f=r(c),d=e("../Stores/CurrentUser"),p=r(d),h=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={user:n.props.user},n}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.stopListening=p["default"].listen(this._onUserChange.bind(this)),this.setState({user:p["default"].get()})}},{key:"componentWillUnmount",value:function(){this.stopListening()}},{key:"render",value:function(){return s["default"].createElement("ul",{className:"nav navbar-nav navbar-right"},s["default"].createElement("li",{className:"dropdown"},s["default"].createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},this.state.user.username,s["default"].createElement("span",{className:"caret"})),s["default"].createElement("ul",{className:"dropdown-menu"},s["default"].createElement("li",null,s["default"].createElement("a",{href:"/admin/page-editor"},s["default"].createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true",style:m.icon}),"New Page")),s["default"].createElement("li",null,s["default"].createElement("a",{href:"/admin/page-inventory"},s["default"].createElement("span",{className:"glyphicon glyphicon-edit","aria-hidden":"true",style:m.icon}),"Edit Articles")),s["default"].createElement("li",null,s["default"].createElement("a",{href:"/admin/guest-list"},s["default"].createElement("span",{className:"glyphicon glyphicon-th-list","aria-hidden":"true",style:m.icon}),"Guest List")),s["default"].createElement("li",{role:"separator",className:"divider"}),s["default"].createElement("li",{className:"dropdown-header"},"My Account"),s["default"].createElement("li",null,s["default"].createElement("a",{href:"#",onClick:this._onLogoutPress},s["default"].createElement("span",{className:"glyphicon glyphicon-log-out","aria-hidden":"true",style:m.icon}),"Sign Out")))))}},{key:"_onLogoutPress",value:function(e){e.preventDefault(),f["default"].logout()}},{key:"_onUserChange",value:function(e){this.setState({user:e})}}]),t}(s["default"].Component);h.propTypes={user:s["default"].PropTypes.object},h.defaultProps={user:{}},n["default"]=h;var m={icon:{paddingRight:"5px"}}},{"../Stores/CurrentUser":11,"../Utils/Actions":12,react:"react"}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=r(l),c=e("../Utils/Actions"),f=r(c),d=e("../Stores/CurrentUser"),p=r(d),h=e("./LoginForm"),m=r(h),g=e("./UserMenu"),v=r(g),y=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={loading:!0,user:{}},n}return u(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;this.stopListening=p["default"].listen(this._onUserChange.bind(this)),this.stopAuthListen=f["default"].noauth.listen(function(){return e.setState({loading:!1})}),this.setState({user:p["default"].get()})}},{key:"componentWillUnmount",value:function(){this.stopListening(),this.stopAuthListen()}},{key:"renderLoginForm",value:function(){return s["default"].createElement(m["default"],null)}},{key:"renderUserMenu",value:function(){return s["default"].createElement(v["default"],{user:this.state.user})}},{key:"render",value:function(){return this.state.loading?null:s["default"].createElement("div",{style:b.container},this.state.user.id?this.renderUserMenu():this.renderLoginForm())}},{key:"_onUserChange",value:function(e){this.setState({user:e,loading:!1})}}]),t}(s["default"].Component);y.propTypes={},y.defaultProps={},n["default"]=y;var b={container:{height:"56px"},username:{margin:3,lineHeight:"44px",color:"white"}}},{"../Stores/CurrentUser":11,"../Utils/Actions":12,"./LoginForm":7,"./UserMenu":9,react:"react"}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("reflux"),o=r(a),u=e("../Utils/Actions"),i=r(u),l=(e("../Utils/Constants"),e("../Api/ApiRequest")),s=r(l),c=e("../Api/ApiUtils"),f=(r(c),e("../Api/AccessToken")),d=r(f),p={id:null,username:null,session_id:null},h=Object.assign({},p);n["default"]=o["default"].createStore({listenables:[i["default"]],init:function(){},get:function(){return h},update:function(e){h=Object.assign({},e),this.trigger(h)},onLogin:function(e){s["default"].post("/account/login").data(e).setAnonymous(!0).send(function(e){d["default"].set(e.data.session_id).then(function(){return i["default"].login.completed(e)})},i["default"].login.failed)},onLoginCompleted:function(e){var t=e.data;this.update(t)},onLogout:function(){s["default"].post("/account/logout").setHandleErrors(!1).setIgnoreNetworkError(!0).send(i["default"].logout.completed,i["default"].logout.failed),this.update(p)},onLogoutCompleted:function(){d["default"].clear()},onLogoutFailed:function(){d["default"].clear()},onLoadUser:function(){s["default"].get("/account").send(i["default"].loadUser.completed,i["default"].loadUser.failed)},onLoadUserCompleted:function(e){this.update(e.data)}})},{"../Api/AccessToken":4,"../Api/ApiRequest":5,"../Api/ApiUtils":6,"../Utils/Actions":12,"../Utils/Constants":13,reflux:"reflux"}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("reflux"),o=r(a),u=e("../Api/AccessToken"),i=r(u),l=e("../Api/ApiRequest"),s=(r(l),o["default"].createActions(["auth","unauth","noauth",{login:{asyncResult:!0}},{logout:{asyncResult:!0}},{loadUser:{asyncResult:!0}}]));s.auth.listen(function(){i["default"].get(!0).then(function(e){return s.loadUser(e)})["catch"](function(){return s.noauth()})}),n["default"]=s},{"../Api/AccessToken":4,"../Api/ApiRequest":5,reflux:"reflux"}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("keyMirror"),a="wonfortheland.com",o=window.location.hostname===a?"production":"dev",u=!0,i="http://"+a+"/api",l="http://"+a;switch(o){case"dev":u=!1,i="http://dev."+a+"/api",l="http://dev."+a}n.Config={ENV:o,api_root:i+"/",site_root:l+"/",uploads_dir:l+"/uploads/",Storage:r({ACCESS_TOKEN:null})}},{keyMirror:3}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("jquery"),i=r(u),l=e("react"),s=(r(l),e("react-dom")),c=(r(s),e("../Utils/Actions")),f=r(c),d=e("../Components/UserNav"),p=(r(d),function(){function t(){a(this,t)}return o(t,null,[{key:"globals",value:function(){window.jQuery=i["default"]}},{key:"bootstrap",value:function(){e("bootstrap")}},{key:"onReady",value:function(){var e=document.getElementById("btnComingSoon");e&&(e.onclick=function(){return ga&&ga("send","event","buttons","click","stay tuned"),console.log("send","event","buttons","click","stay tuned"),!1})}},{key:"authUser",value:function(){f["default"].auth()}},{key:"onLoad",value:function(){t.globals(),t.bootstrap(),t.onReady(),t.authUser()}}]),t}());n["default"]=p},{"../Components/UserNav":10,"../Utils/Actions":12,bootstrap:"bootstrap",jquery:"jquery",react:"react","react-dom":"react-dom"}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var u=e("react"),i=r(u),l=e("react-dom"),s=r(l),c=e("path"),f=r(c),d=e("../Utils/Utils"),p=r(d),h=e("../Views/AddArchiveForm"),m=r(h),g=e("../Views/PageEditor"),v=r(g),y=e("../Views/PageInventory"),b=r(y),_=function(){function e(){a(this,e)}return o(e,null,[{key:"current",value:function(t){var n=f["default"].basename(t)||e.homeRoute,r=n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});"function"==typeof e[r]&&(console.log("Loading route: "+r),e[r]())}},{key:"home",value:function(){}},{key:"add",value:function(){s["default"].render(i["default"].createElement(m["default"],null),document.getElementById("AddArchiveForm"))}},{key:"pageEditor",value:function(){var e=p["default"].getQueryParam("id")||null;e&&(e=parseInt(e)),s["default"].render(i["default"].createElement(v["default"],{pageId:e}),document.getElementById("PageEditor"))}},{key:"pageInventory",value:function(){s["default"].render(i["default"].createElement(b["default"],null),document.getElementById("PageInventory"))}}]),e}();_.homeRoute="home",n["default"]=_},{"../Utils/Utils":16,"../Views/AddArchiveForm":17,"../Views/PageEditor":18,"../Views/PageInventory":19,path:1,react:"react","react-dom":"react-dom"}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var i=(e("./Constants"),e("humane-js")),l=r(i),s=function(){function e(){o(this,e)}return u(e,null,[{key:"getJSONP",value:function(e,t){var n=window.document.getElementsByTagName("script")[0],r=window.document.createElement("script");r.src=e+(e.indexOf("?")+1?"&":"?")+"callback="+t,n.parentNode.insertBefore(r,n),r.onload=function(){this.remove()}}},{key:"quoteRegex",value:function(e){return e.replace(/([()[{*+.$^\\|?])/g,"\\$1")}},{key:"trimChar",value:function(t,n){return n=e.quoteRegex(n),t.replace(new RegExp("^"+n+"+|"+n+"+$","g"),"")}},{key:"toQueryString",value:function(t,n){var r=[];for(var o in t)if(t.hasOwnProperty(o)){var u=n?n+"["+o+"]":o,i=t[o];r.push("object"==("undefined"==typeof i?"undefined":a(i))?e.toQueryString(i,u):encodeURIComponent(u)+"="+encodeURIComponent(i))}return r.join("&")}},{key:"getQueryParam",value:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}},{key:"isEmpty",value:function(e){return null==e?!0:e.length>0?!1:0===e.length?!0:Object.getOwnPropertyNames(e).length>0?!1:!0}},{key:"cleanForUrl",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?50:arguments[1];return e.replace(/(^\-+|[^a-zA-Z0-9\/_| -]+|\-+$)/g,"").toLowerCase().replace(/[\/_| -]+/g,"-").substr(0,t)}}]),e}();s.showMessage=l["default"].spawn({addnCls:"bg-info text-info",waitForMove:!0}),s.showSuccess=l["default"].spawn({addnCls:"bg-success text-success",waitForMove:!0}),s.showError=l["default"].spawn({addnCls:"bg-danger text-danger",timeout:5e3,clickToClose:!0,waitForMove:!0}),n["default"]=s},{"./Constants":13,"humane-js":"humane-js"}],17:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var s=e("react"),c=r(s),f=e("../Utils/Actions"),d=(r(f),e("../Api/ApiRequest")),p=r(d),h=e("../Components/SRDropzone"),m=r(h),g=e("../Utils/Utils"),v=r(g),y=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={enabled:!0,title:null,description:null,link_url:null,category:null,image:null,author_name:null,author_twitter:null,author_url:null},n.onSubmit=n.onSubmit.bind(n),n.onSuccess=n.onSuccess.bind(n),n}return u(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.getAuthor();this.setState({author_name:e.name||null,author_twitter:e.twitter||null,author_url:e.url||null})}},{key:"getAuthor",value:function(){return{name:localStorage.getItem("author_name")||null,twitter:localStorage.getItem("author_twitter")||null,url:localStorage.getItem("author_url")||null}}},{key:"saveAuthor",value:function(e,t,n){e&&localStorage.setItem("author_name",e),t&&localStorage.setItem("author_twitter",t),n&&localStorage.setItem("author_url",n)}},{key:"render",value:function(){var e=this,t=this.state.enabled?{}:{disabled:"disabled"};return c["default"].createElement("form",{ref:"archiveForm",role:"form",onSubmit:this.onSubmit},c["default"].createElement("div",{className:"form-group"},c["default"].createElement("label",{htmlFor:"titleInput"},"Title"),c["default"].createElement("input",{id:"titleInput",type:"text",className:"form-control input-lg",placeholder:"LeBron Space Dunk in Game 3",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}})),c["default"].createElement("div",{className:"form-group"},c["default"].createElement("label",{htmlFor:"descInput"},"Description"),c["default"].createElement("textarea",{id:"descInput",className:"form-control input-lg",rows:"3",placeholder:"LeBron gets a steal, stumbles on the fast-break, passes to Irving who lobs the handoff too high for a normal person but James throws it down with authority.",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),c["default"].createElement("div",{className:"form-group"},c["default"].createElement("label",{htmlFor:"linkInput"},"Link / URL"),c["default"].createElement("input",{id:"linkInput",type:"text",className:"form-control input-lg",placeholder:"http://www.nba.com/cavaliers/video/channel/gameday",value:this.state.link_url,onChange:function(t){return e.setState({link_url:t.target.value})}})),this.renderCategoryInput(),this.renderImageInput(),this.renderAuthorInputs(),c["default"].createElement("button",i({type:"submit",className:"btn btn-primary btn-block btn-lg"},t),"Submit"))}},{key:"renderAuthorInputs",value:function(){var e=this;return c["default"].createElement("div",{className:"form-group form-group-sm"},c["default"].createElement("label",{htmlFor:"authorNameInput"},"Author"),c["default"].createElement("div",{className:"row"},c["default"].createElement("div",{className:"col-xs-6"},c["default"].createElement("input",{id:"authorNameInput",type:"text",className:"form-control input-lg",placeholder:"Your Name",value:this.state.author_name,onChange:function(t){return e.setState({author_name:t.target.value})}})),c["default"].createElement("div",{className:"col-xs-6"},c["default"].createElement("input",{id:"authorTwitterInput",type:"text",className:"form-control input-lg",placeholder:"@twitter",value:this.state.author_twitter,onChange:function(t){return e.setState({author_twitter:t.target.value})}}))))}},{key:"renderImageInput",value:function(){var e=this;return c["default"].createElement("div",{className:"form-group"},c["default"].createElement(m["default"],{ref:"srDropzone",style:b.previewImage,activeStyle:b.dragActive,multiple:!1,onUploadStart:function(){return e.setState({enabled:!1})},onUploadEnd:function(){
return e.setState({enabled:!0})},onUploadSuccess:function(t){return e.setState({image:t})}}))}},{key:"renderCategoryInput",value:function(){var e=this,t=["Meme","Article","Media","Celebration","The Finals"];return c["default"].createElement("div",{className:"form-group"},c["default"].createElement("label",{htmlFor:"categoryInput"},"Category"),c["default"].createElement("select",{id:"categoryInput",className:"form-control input-lg",value:this.state.category,onChange:function(t){return e.setState({category:t.target.value})}},c["default"].createElement("option",{value:""},"— Choose Category —"),t.map(function(e,t){return c["default"].createElement("option",{key:"category-"+e,value:e},e)})))}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.state.enabled){var t={uri:v["default"].cleanForUrl(this.state.title),title:this.state.title,description:this.state.description,category:this.state.category,link_url:this.state.link_url,image:this.state.image,author_name:this.state.author_name,author_twitter:this.state.author_twitter,author_url:this.state.author_url};console.log("archives:",t),p["default"].post("/archives").data(t).setAnonymous(!0).send(this.onSuccess)}}},{key:"onSuccess",value:function(e){var t=this.state.author_name,n=this.state.author_twitter,r=this.state.author_url;this.saveAuthor(t,n,r),this.refs.archiveForm.reset(),this.refs.srDropzone.cleanDropzone(),this.setState({enabled:!0,title:null,description:null,link_url:null,category:null,image:null,author_name:t,author_url:r}),v["default"].showSuccess("Thanks & Go CAVS!")}}]),t}(c["default"].Component);y.propTypes={},y.defaultProps={},n["default"]=y;var b={previewImage:{borderWidth:1,borderStyle:"dashed"},dragActive:{borderColor:"rgb(120,120,120)"}}},{"../Api/ApiRequest":5,"../Components/SRDropzone":8,"../Utils/Actions":12,"../Utils/Utils":16,react:"react"}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=r(l),c=e("moment"),f=r(c),d=e("react-medium-editor"),p=r(d),h=e("react-bootstrap-datetimepicker"),m=r(h),g=e("../Utils/Utils"),v=r(g),y=e("../Api/ApiRequest"),b=r(y),_=e("../Stores/CurrentUser"),w=r(_),E=e("../Components/SRDropzone"),k=r(E),U=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.postTimestamp=null,n.hasCustomUri=!1,n.isLocationSet=!!v["default"].getQueryParam("id"),n.autosaveId=null,n.state={authorized:!0,publishing:!1,processing:!1,user:n.props.user,page:{}},n._savePage=n._savePage.bind(n),n._onSubmitPage=n._onSubmitPage.bind(n),n._onPublish=n._onPublish.bind(n),n._onPostDateChange=n._onPostDateChange.bind(n),n._onUpdatePageUri=n._onUpdatePageUri.bind(n),n._onChangeUri=n._onChangeUri.bind(n),n._onBlurUri=n._onBlurUri.bind(n),n._onChangeTitle=n._onChangeTitle.bind(n),n._onArticleChange=n._onArticleChange.bind(n),n._onUserChange=n._onUserChange.bind(n),n}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.stopUserSubscribe=w["default"].listen(this._onUserChange);var e=w["default"].get();this.setState({authorized:!!e.id,user:e})}},{key:"componentDidMount",value:function(){this.props.pageId&&this._loadPage(this.props.pageId)}},{key:"componentWillUnmount",value:function(){this.stopUserSubscribe()}},{key:"renderProgressBar",value:function(){var e=this.state.publishing?"progress-bar-success":"progress-bar-info";return s["default"].createElement("div",{className:"progress",style:{height:"auto"}},s["default"].createElement("div",{className:"progress-bar "+e+" progress-bar-striped active",role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100",style:C.progressBar},this.state.publishing?"Publishing...":"Saving..."))}},{key:"renderPublishButton",value:function(){return 1===this.state.page.status?null:s["default"].createElement("button",{type:"button",className:"btn btn-lg btn-success",style:C.button,onClick:this._onPublish},s["default"].createElement("span",{className:"glyphicon glyphicon-ok-sign"})," Publish Page")}},{key:"renderSubmitButton",value:function(){if(this.state.processing)return this.renderProgressBar();var e=1===this.state.page.status?C.fullButton:C.button;return s["default"].createElement("div",null,this.renderPublishButton(),s["default"].createElement("button",{type:"submit",className:"btn btn-lg btn-info",style:e},s["default"].createElement("span",{className:"glyphicon glyphicon-plus-sign"})," Save Page"))}},{key:"renderCategoryInput",value:function(){var e=this,t=["Hidden"];return s["default"].createElement("div",{className:"form-group"},s["default"].createElement("select",{ref:"pageCategory",className:"form-control input-lg",value:this.state.page.category,onChange:function(t){return e._setStatePage({category:t.target.value})}},s["default"].createElement("option",{value:""},"— Choose Category —"),t.map(function(e,t){return s["default"].createElement("option",{key:"category-"+e,value:e},e)})))}},{key:"render",value:function(){var e=this;if(!this.state.authorized)return s["default"].createElement("h4",null,"Must be logged in :(");var t={name:"image",action:"image",aria:"image",tagNames:["img"],contentDefault:'<i class="glyphicon glyphicon-picture"></i>',contentFA:'<i class="fa fa-picture-o"></i>'},n={placeholder:{text:"Article body..."},toolbar:{buttons:["bold","italic","anchor","h2","h3","quote","unorderedlist",t,"removeFormat"]}};return s["default"].createElement("form",{ref:"addNewPage",className:"",role:"form",onSubmit:function(t){return e._onSubmitPage(t)}},s["default"].createElement("div",{className:"jumbotron",style:C.uploaderRow},s["default"].createElement("div",{className:"container"},s["default"].createElement(k["default"],{style:C.previewImage,activeStyle:C.dragActive,multiple:!1}))),s["default"].createElement("div",{className:"row"},s["default"].createElement("div",{className:"col-xs-12"},s["default"].createElement("h1",null,"Page Editor"))),s["default"].createElement("div",{className:"row"},s["default"].createElement("div",{className:"col-xs-4"},s["default"].createElement("p",{className:"lead"},s["default"].createElement("em",null,"Data about data:"))),s["default"].createElement("div",{className:"col-xs-8"},s["default"].createElement("p",{className:"lead"},s["default"].createElement("em",null,"Spit your knowledge game:")))),s["default"].createElement("div",{className:"row"},s["default"].createElement("div",{className:"col-xs-4"},s["default"].createElement("div",{className:"form-group"},s["default"].createElement(m["default"],{size:"lg",defaultText:this.state.page.post_date||"",inputProps:{placeholder:"Article Date/Time"},format:"x",inputFormat:"YYYY-MM-DD hh:mm A",onChange:this._onPostDateChange})),s["default"].createElement("div",{className:"form-group"},s["default"].createElement("input",{ref:"pageUri",type:"text",className:"form-control input-lg",placeholder:"Custom-Page-Url",value:this.state.page.uri,onChange:this._onChangeUri,onBlur:this._onBlurUri})),this.renderCategoryInput(),s["default"].createElement("div",{className:"form-group"},s["default"].createElement("input",{ref:"previewImage",className:"form-control input-lg",type:"text",placeholder:"Preview Image URL",value:this.state.page.preview_image,onChange:function(t){return e._setStatePage({preview_image:t.target.value})}})),s["default"].createElement("div",{className:"form-group"},s["default"].createElement("input",{ref:"metaTitle",className:"form-control input-lg",type:"text",placeholder:"Enter meta title",value:this.state.page.meta_title,onChange:function(t){return e._setStatePage({meta_title:t.target.value})}})),s["default"].createElement("div",{className:"form-group"},s["default"].createElement("textarea",{ref:"metaDescription",className:"form-control input-lg",rows:"2",placeholder:"Enter meta description",value:this.state.page.meta_description,onChange:function(t){return e._setStatePage({meta_description:t.target.value})}})),s["default"].createElement("div",{className:"form-group"},s["default"].createElement("input",{ref:"metaKeywords",className:"form-control input-lg",type:"text",placeholder:"Enter meta keywords",value:this.state.page.meta_keywords,onChange:function(t){return e._setStatePage({meta_keywords:t.target.value})}}))),s["default"].createElement("div",{className:"col-xs-8"},s["default"].createElement("div",{className:"form-group"},s["default"].createElement("input",{ref:"pageTitle",className:"form-control input-lg",type:"text",placeholder:"Headline",value:this.state.page.title,onChange:this._onChangeTitle})),s["default"].createElement("div",{className:"form-group"},s["default"].createElement(p["default"],{style:C.editor,className:"form-control input-lg",text:this.state.page.article,onChange:this._onArticleChange,options:n})),this.renderSubmitButton(),s["default"].createElement("input",{ref:"pageId",type:"hidden",name:"pageId",value:this.state.page.id}))))}},{key:"_loadPage",value:function(e){var t=this;b["default"].get("/pages/"+e).send(function(e){var n=e.data;t._setWindowLocation(n.id),t.setState({page:n})})}},{key:"_setWindowLocation",value:function(e){if(!this.isLocationSet){var t=window.location.href+"?id="+e;history.pushState(null,document.querySelector("title").innerHTML,t),this.isLocationSet=!0}}},{key:"_onPostDateChange",value:function(e){this.postTimestamp=e,this._onUpdatePageUri()}},{key:"_getPostDateFormat",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"YYYY-MM-DD HH:mm:00":arguments[0],t=f["default"].unix(this.postTimestamp/1e3).format(e);return"Invalid date"==t?"":t}},{key:"_getPageData",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return{title:this.refs.pageTitle.value,article:this.state.page.article,uri:this.state.page.uri||this.refs.pageUri.value,category:this.refs.pageCategory.value,preview_image:this.refs.previewImage.value,meta_title:this.refs.metaTitle.value,meta_description:this.refs.metaDescription.value,meta_keywords:this.refs.metaKeywords.value,post_date:this.postTimestamp?this._getPostDateFormat():null,status:e}}},{key:"_onPublish",value:function(e){this._onSubmitPage(e,!0)}},{key:"_onSubmitPage",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];e&&e.preventDefault(),this.state.processing||this._savePage(t,!0)}},{key:"_savePage",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];n=n===!0,n&&(this.setState({processing:!0,publishing:t}),this.autosaveId&&clearInterval(this.autosaveId));var r=this.state.page.id?"/pages/"+this.state.page.id:"/pages";b["default"].post(r).data(this._getPageData(t)).send(function(r){var a=r.data;return n?(v["default"].showSuccess(t?"Page published!":"Page saved!"),e._setWindowLocation(a.id),void e.setState({processing:!1,page:a})):void(e.state.page.id=a.id)})}},{key:"_clearForm",value:function(){this.refs.addNewPage.reset(),this.postTimestamp=null,this.hasCustomUri=!1,this.setState({processing:!1,page:{}})}},{key:"_getUriFromTitle",value:function(){var e=this.refs.pageTitle.value||"untitled",t=this.postTimestamp?this._getPostDateFormat("-YYYY-MM-DD"):"";return v["default"].cleanForUrl(e+t)}},{key:"_onBlurUri",value:function(e){e.target.value||(this.hasCustomUri=!1,this._onUpdatePageUri())}},{key:"_onChangeUri",value:function(e){return this.hasCustomUri=!0,this._setStatePage({uri:this.refs.pageUri.value}),!0}},{key:"_onChangeTitle",value:function(e){var t={title:this.refs.pageTitle.value};this.hasCustomUri||(t.uri=this._getUriFromTitle()),this._setStatePage(t)}},{key:"_onUpdatePageUri",value:function(){arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.hasCustomUri||this._setStatePage({uri:this._getUriFromTitle()})}},{key:"_onArticleChange",value:function(e,t){this._setStatePage({article:e})}},{key:"_setStatePage",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this._startAutosave();var n=this.state.page;Object.assign(n,e),Object.assign(t,{page:n}),this.setState(t)}},{key:"_onUserChange",value:function(e){this.setState({authorized:!!e.id})}},{key:"_startAutosave",value:function(){this.autosaveId||(this.autosaveId=setInterval(this._savePage,5e3))}}]),t}(s["default"].Component);U.propTypes={pageId:s["default"].PropTypes.number},U.defaultProps={pageId:null},n["default"]=U;var C={button:{width:"48%",margin:"0 1%"},fullButton:{width:"98%",margin:"0 1%"},editor:{height:"auto",minHeight:"20em"},uploaderRow:{paddingLeft:"15px",paddingRight:"15px",paddingTop:"30px",paddingBottom:"30px"},previewImage:{color:"rgb(50,50,50)",borderWidth:0,fontWeight:"bold",fontSize:30,textAlign:"center",minHeight:"auto",background:"transparent"},dragActive:{borderColor:"rgb(120,120,120)"},progressBar:{fontSize:"18px",padding:"10px 0",width:"100%"}}},{"../Api/ApiRequest":5,"../Components/SRDropzone":8,"../Stores/CurrentUser":11,"../Utils/Utils":16,moment:"moment",react:"react","react-bootstrap-datetimepicker":"react-bootstrap-datetimepicker","react-medium-editor":"react-medium-editor"}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0});var l=e("react"),s=r(l),c=e("../Utils/Utils"),f=(r(c),e("../Api/ApiRequest")),d=r(f),p=e("../Stores/CurrentUser"),h=r(p),m=function(e){function t(e){a(this,t);var n=o(this,Object.getPrototypeOf(t).call(this,e));return n.state={loading:!0,authorized:!0,user:n.props.user,pages:[]},n._onUserChange=n._onUserChange.bind(n),n}return u(t,e),i(t,[{key:"componentWillMount",value:function(){this.stopUserSubscribe=h["default"].listen(this._onUserChange),this._loadPages();var e=h["default"].get();this.setState({authorized:!!e.id,user:e})}},{key:"componentWillUnmount",value:function(){this.stopUserSubscribe()}},{key:"renderRow",value:function(e,t){return s["default"].createElement("tr",{key:"page-"+t},s["default"].createElement("td",null,s["default"].createElement("a",{href:"/admin/page-editor?id="+e.id},e.id)),s["default"].createElement("td",null,s["default"].createElement("a",{href:"/admin/page-editor?id="+e.id},e.title)),s["default"].createElement("td",null,e.status?"Published":""))}},{key:"render",value:function(){return this.state.loading?s["default"].createElement("h4",null,"Loading..."):this.state.authorized?0===this.state.pages.length?s["default"].createElement("h4",null,"No pages available :("):s["default"].createElement("table",{className:"table table-striped table-hover"},s["default"].createElement("tbody",null,s["default"].createElement("tr",null,s["default"].createElement("th",null,"ID"),s["default"].createElement("th",null,"Title"),s["default"].createElement("th",null,"Status")),this.state.pages.map(this.renderRow.bind(this)))):s["default"].createElement("h4",null,"Must be logged in :(")}},{key:"_loadPages",value:function(){var e=this;d["default"].get("/pages").send(function(t){e.setState({loading:!1,pages:t.data})},function(){return e.setState({loading:!1})})}},{key:"_onUserChange",value:function(e){this.setState({authorized:!!e.id})}}]),t}(s["default"].Component);m.propTypes={},m.defaultProps={},n["default"]=m},{"../Api/ApiRequest":5,"../Stores/CurrentUser":11,"../Utils/Utils":16,react:"react"}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var a=e("react"),o=(r(a),e("react-dom")),u=(r(o),e("./Utils/Initialize")),i=r(u),l=e("./Utils/Routes"),s=r(l);i["default"].onLoad(),s["default"].current(window.location.pathname)},{"./Utils/Initialize":14,"./Utils/Routes":15,react:"react","react-dom":"react-dom"}]},{},[20]);